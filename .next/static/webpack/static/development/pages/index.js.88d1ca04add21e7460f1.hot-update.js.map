{"version":3,"file":"static/webpack/static/development/pages/index.js.88d1ca04add21e7460f1.hot-update.js","sources":["webpack:///./src/PageIndex/components/Map/Map.js"],"sourcesContent":["import styled from 'styled-components'\n\nconst Map = props => {\n  const map = useRef()\n\n  const initialize = () => {\n    (async () => {\n      if (!map.current) {\n        // NOTE: Publically available access token. ~ RM\n        // https://docs.mapbox.com/mapbox-gl-js/example/simple-map/\n        // TODO: Hide access token. ~ RM\n        mapboxgl.accessToken = 'pk.eyJ1Ijoicm1vcmFudGVzIiwiYSI6ImNqYTRtaWp5MzRjcXEzMXBveWViOGNjYm0ifQ.lt1qdGpfbbrT328BOUhIpQ'\n\n        // TODO: Add user location icons to map. ~ RM\n        const newMap = new mapboxgl.Map({\n          center: [0, 0],\n          container: 'listing-map',\n          style: 'mapbox://styles/mapbox/streets-v11',\n          zoom: 1\n        })\n\n        map.current = newMap\n        startGeotracking()\n      }\n    })()\n  }\n\n  const startGeotracking = () => {\n    const success = position => {\n      map.current.flyTo({\n        center: {\n          lat: position.coords.latitude,\n          lng: position.coords.longitude\n        },\n        zoom: 15\n      })\n    }\n\n    const error = error => {\n      console.warn('ERROR(' + error.code + '): ' + error.message)\n    }\n\n    const id = navigator.geolocation.watchPosition(success, error)\n    // TODO: Cleanup. ~ RM\n    // navigator.geolocation.clearWatch(id)\n  }\n\n  useEffect(initialize)\n\n  return (\n    <Wrapper id='listing-map'/>\n  )\n}\n\nconst Wrapper = styled.div`\n  height: 100vh;\n  width: 100vw;\n`\n\nexport default Map\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAJA;AAOA;AACA;AACA;AACA;AAlBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAmBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAIA;AALA;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AAKA;;;;;A","sourceRoot":""}